<html>
<head>
<title> Github Auth Token </title>
</head>
<body>
  <p id="response"></p>
<input type="text" id="username"><br>
<input type="password" id="password"><br>
<input type="text" id="auth"><br>
<button onclick="get()">Authenticate</button>
<script>
var response = "";
function get(){
  var d = new Date();
  var xmlHttp = new XMLHttpRequest();
      xmlHttp.open( "POST", "https://api.github.com/authorizations", false ); // false for synchronous request
      xmlHttp.setRequestHeader("Authorization", "Basic " + btoa(document.getElementById("username").value + ":" + document.getElementById("password").value))
      xmlHttp.setRequestHeader("X-GitHub-OTP", document.getElementById("auth").value)
      xmlHttp.send('{"scopes": ["repo"],"note": "' + d.getTime() + '"}');
      response = xmlHttp;
      document.getElementById("response").innerHTML = JSON.parse(xmlHttp.response)['token'];
}
</script>
</body>
</html>
